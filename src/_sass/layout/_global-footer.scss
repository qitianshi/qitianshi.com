// Stylesheet for the global footer.

// Copyright 2023 Qi Tianshi. All rights reserved.


@use "abstracts/mixins" as mix;
@use "abstracts/variables" as var;

$_color-theme-toggle-padding: 1px;
$_color-theme-toggle-label-vertical-padding: 1px;

.global-footer__section {

    @include mix.mobile-horizontal-spacing("margin");

    // Width follows .c-stacked-banner--hero and .c-body-text.
    width: calc(100vw - var.$body-text-horizontal-padding);
    max-width: calc(2 * var.$body-text-max-width);

    margin: 0 auto;

    display: flex;
    flex-wrap: wrap;
    align-items: baseline;
    justify-content: space-between;
    column-gap: 1rem;

    * {
        color: var(--foreground-secondary-color);
    }

    // Places a horizontal border between each section.
    #global-footer > & + & {
        border-top: 1px solid var(--foreground-tertiary-color);
    }

}

#global-footer {

    padding: 1rem 0;
    background-color: var(--background-secondary-color);

    font-size: var.$small-font-size;

    // Places the authorship text and the toggle at opposite ends.
    &__main {
        flex-wrap: wrap-reverse;
    }

    // Links to legal pages.
    &__legal-links {

        margin: 0;
        padding: 0;
        list-style-type: none;

        // Collapses the space between <li> to zero. Otherwise, there would be
        // a space between each <li>.
        font-size: 0;

        // Gives each <li> a horizontal padding, except the leading and
        // trailing <li>.
        li {

            margin: 0;
            padding: 0 0.25rem;
            display: inline;

            font-size: var.$small-font-size;

            &:first-of-type { padding-left: 0; }
            &:last-of-type { padding-right: 0; }

        }

        // Places a vertical border between each <li>.
        & > li + li {
            border-left: 1px solid var(--foreground-tertiary-color);
        }

    }

    &__color-theme-toggle {

        // Border around the toggle. Value of the radius is arbitrary; it just
        // needs to be bigger than half the height of the element to make it
        // pill-shaped.
        border: 1px solid var(--foreground-secondary-color);
        border-radius: 1rem;

        width: fit-content;
        height: min-content;

        // By default, the cursor between each label is "text".
        cursor: default;

        // The space between the outer border and the inner selection is meant
        // to be 1px all round. However, because the label has a vertical
        // padding of 1px; this outer padding must be 2px vertically to account
        // for padding collapse.
        padding: calc($_color-theme-toggle-padding + $_color-theme-toggle-label-vertical-padding) $_color-theme-toggle-padding;

        input {

            // Makes the radio button UI element invisible.
            position: fixed;
            opacity: 0;
            pointer-events: none;

            // Highlights the selected option.
            &:checked + label {

                background-color: var(--foreground-secondary-color);

                span {
                    color: var(--background-secondary-color);
                }

            }

        }

        label {

            // See above notes on border radius and padding.
            cursor: pointer;
            border-radius: 1rem;
            padding: $_color-theme-toggle-label-vertical-padding 0.3rem;

            // Repositions text to better center it in the pill.
            span {
                position: relative;
                bottom: 0.5px;
                left: 0.5px;
            }

        }

        // On hovering, the toggle becomes the accent color. An additional
        // media query is used to prevent the toggle from staying colored on
        // touchscreen devices.
        @media (any-hover: hover) {
            &:hover {

                border-color: var(--tiangerine-tangerine);

                label span {
                    color: var(--tiangerine-tangerine);
                }

                input:checked+label {
                    background-color: var(--tiangerine-tangerine);
                }

            }
        }

    }

}
